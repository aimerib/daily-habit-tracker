<div class="w-full">
  <div class="flex justify-between items-center sm:flex-row flex-col gap-5">
    <h1 class="font-bold text-4xl">Daily habits</h1>
    <div class="flex gap-5">
      <%= link_to "New daily habit", new_daily_habit_path, class: "rounded-lg py-3 px-5 bg-orange-600 text-white block font-medium" %>
      <%# Download CSV %>
      <%= link_to "Download CSV", daily_habits_path(format: :csv), class: "rounded-lg py-3 px-5 bg-orange-600 text-white block font-medium" %>
    </div>
  </div>

  <%# Desktop Table %>
  <table class="min-w-full table-auto border-collapse border border-gray-300 mt-10 hidden lg:table">
    <thead>
      <tr>
        <th class="table--header">Date</th>
        <th class="table--header">Hours Slept</th>
        <th class="table--header">Breakfast</th>
        <th class="table--header">Lunch</th>
        <th class="table--header">Dinner</th>
        <th class="table--header">Morning Meds</th>
        <th class="table--header">Evening Meds</th>
        <th class="table--header">Exercise Minutes</th>
        <th class="table--header">Daily Steps</th>
        <th class="table--header">Mood</th>
        <th class="table--header">Energy</th>
        <th class="table--header">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @daily_habits.each do |daily_habit| %>
        <tr>
          <td class="table--body_row"><%= daily_habit.date %></td>
          <td class="table--body_row"><%= daily_habit.hours_slept %></td>
          <td class="table--body_row"><%= daily_habit.breakfast ? 'Yes' : 'No' %></td>
          <td class="table--body_row"><%= daily_habit.lunch ? 'Yes' : 'No' %></td>
          <td class="table--body_row"><%= daily_habit.dinner ? 'Yes' : 'No' %></td>
          <td class="table--body_row"><%= daily_habit.morning_meds ? 'Yes' : 'No' %></td>
          <td class="table--body_row"><%= daily_habit.evening_meds ? 'Yes' : 'No' %></td>
          <td class="table--body_row"><%= daily_habit.exercise_minutes %></td>
          <td class="table--body_row"><%= daily_habit.daily_steps %></td>
          <td class="table--body_row"><%= daily_habit.mood %></td>
          <td class="table--body_row"><%= daily_habit.energy %></td>
          <td class="table--body_row flex flex-col gap-1">
            <%= link_to 'Show', daily_habit, class: "rounded-md py-1 px-2 bg-orange-400 text-white block font-medium text-center" %>
            <%= link_to 'Edit', edit_daily_habit_path(daily_habit), class: "rounded-md py-1 px-2 bg-orange-400 text-white block font-medium text-center" %>
            <%= link_to 'Destroy', daily_habit, method: :delete, data: { confirm: 'Are you sure?' }, class: "rounded-md py-1 px-2 bg-red-600 text-white block font-medium text-center" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%# Mobile Table %>
  <div class="lg:hidden mt-10">
    <% @daily_habits.each do |daily_habit| %>
      <div class="mb-4 p-4 border border-gray-300 rounded-md">
        <p><strong>Date:</strong> <%= daily_habit.date %></p>
        <p><strong>Hours Slept:</strong> <%= daily_habit.hours_slept %></p>
        <p><strong>Breakfast:</strong> <%= daily_habit.breakfast ? 'Yes' : 'No' %></p>
        <p><strong>Lunch:</strong> <%= daily_habit.lunch ? 'Yes' : 'No' %></p>
        <p><strong>Dinner:</strong> <%= daily_habit.dinner ? 'Yes' : 'No' %></p>
        <p><strong>Morning Meds:</strong> <%= daily_habit.morning_meds ? 'Yes' : 'No' %></p>
        <p><strong>Evening Meds:</strong> <%= daily_habit.evening_meds ? 'Yes' : 'No' %></p>
        <p><strong>Exercise Minutes:</strong> <%= daily_habit.exercise_minutes %></p>
        <p><strong>Daily Steps:</strong> <%= daily_habit.daily_steps %></p>
        <p><strong>Mood:</strong> <%= daily_habit.mood %></p>
        <p><strong>Energy:</strong> <%= daily_habit.energy %></p>
        <!-- ... add other fields ... -->

        <div class="mt-2 flex gap-2">
          <%= link_to 'Show', daily_habit, class: "rounded-md py-1 px-2 bg-orange-400 text-white font-medium text-center" %>
          <%= link_to 'Edit', edit_daily_habit_path(daily_habit), class: "rounded-md py-1 px-2 bg-orange-400 text-white font-medium text-center" %>
          <%= link_to 'Destroy', daily_habit, method: :delete, data: { confirm: 'Are you sure?' }, class: "rounded-md py-1 px-2 bg-red-600 text-white font-medium text-center" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
